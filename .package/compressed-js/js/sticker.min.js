(function(){function o(e,t){var r=e.style,i,s;t=t.charAt(0).toUpperCase()+t.slice(1);for(s=0;s<n.length;s++){i=n[s]+t;if(r[i]!==undefined)return i}if(r[t]!==undefined)return t}function u(e,t){for(var n in t)e.style[o(e,n)||n]=t[n]}function a(e,t){var n=document.createElement(e||"div");return u(n,t),n}function f(e,t,n){var r=t.x,i=t.y,s=e.pageX-r,o=e.pageY-i,u;return s<n?u=0:s>n*3?u=1:o<n?u=2:u=3,u}function l(t,n,r){var i=n.x,s=n.y,o=t.pageX-i,u=t.pageY-s,a,f=r-o,l=r-u,c=o>>1,h=u>>1,t=f>>1,p=l>>1;return e==0?a={bx:-r,by:0,sx:-1,sy:1,bs:"shadowL",bmx:-r+o,bmy:0,bsw:o,bsh:r,bsx:f,bsy:0,cw:r-c,ch:r,cx:c,cy:0,dw:c,dh:r,dx:c-(c>>1),dy:0}:e==1?a={bx:r,by:0,sx:-1,sy:1,bs:"shadowR",bmx:o,bmy:0,bsw:f,bsh:r,bsx:0,bsy:0,cw:r-t,ch:r,cx:0,cy:0,dw:t,dh:r,dx:r-f+(t>>1),dy:0}:e==2?a={bx:0,by:-r,sx:1,sy:-1,bs:"shadowT",bmx:0,bmy:-r+u,bsw:r,bsh:u,bsx:0,bsy:l,cw:r,ch:r-h,cx:0,cy:h,dw:r,dh:h,dx:0,dy:h-(h>>1)}:a={bx:0,by:r,sx:1,sy:-1,bs:"shadowB",bmx:0,bmy:u,bsw:r,bsh:l,bsx:0,bsy:0,cw:r,ch:r-p,cx:0,cy:0,dw:r,dh:p,dx:0,dy:r-l+(p>>1)},a}function c(n,r){var s=r.container.getBoundingClientRect(),o={x:s.left+window.pageXOffset,y:s.top+window.pageYOffset};e=f(n,o,r.sizeQ),t=l(n,o,r.size),t.pos=o;var a=t.bx,c=t.by,h=t.sx,p=t.sy,d=t.bs;r.backShadow.className=r.depth.className="sticker-shadow "+d,u(r.mask,{transition:i,width:r.size+"px",height:r.size+"px",transform:"translate(0px, 0px)"}),u(r.move,{transition:i,transform:"translate(0px, 0px)"}),u(r.back,{transition:i,transform:"translate("+a+"px, "+c+"px)"}),u(r.backImg,{transform:"scaleX("+h+") scaleY("+p+")"}),u(r.depth,{transform:"translate(-10000px, -10000px)"})}function h(e,n){if(t==null)return;var i=t.bx,s=t.by;u(n.mask,{transition:r,width:n.size+"px",height:n.size+"px",transform:"translate(0px, 0px)"}),u(n.move,{transition:r,transform:"translate(0px, 0px)"}),u(n.back,{transition:r,transform:"translate("+i+"px, "+s+"px)"}),u(n.depth,{transform:"translate(-10000px, -10000px)"}),t=null}function p(e,n){t==null&&(c(e,n),window.document.addEventListener("mouseup",function(e){this.removeEventListener("mouseup",arguments.callee,!1),h(e,n)},!1));var r=l(e,t.pos,n.size),i=r.bmx,s=r.bmy,o=r.bsw,a=r.bsh,f=r.bsx,p=r.bsy,d=r.cw,v=r.ch,m=r.cx,g=r.cy,y=r.dw,w=r.dh,E=r.dx,S=r.dy;u(n.mask,{width:d+"px",height:v+"px",transform:"translate("+m+"px, "+g+"px)"}),u(n.move,{transform:"translate("+ -m+"px, "+ -g+"px)"}),u(n.back,{transform:"translate("+i+"px, "+s+"px)"}),u(n.backShadow,{width:o+"px",height:a+"px",transform:"translate("+f+"px, "+p+"px)"}),u(n.depth,{width:y+"px",height:w+"px",transform:"translate("+E+"px, "+S+"px)"})}var e,t=null,n=["webkit","Moz","ms","O"],r="all 0.6s cubic-bezier(.23,1,.32,1)",i="all 0s",s=document.createElement("style");s.appendChild(document.createTextNode("    .shadowL {background: -moz-linear-gradient(right, rgba(0,0,0,0) 0%, rgba(0,0,0,0.01) 1%, rgba(0,0,0,0.7) 100%);background: -webkit-gradient(linear, right top, left top, color-stop(0%,rgba(0,0,0,0)), color-stop(1%,rgba(0,0,0,0.01)), color-stop(100%,rgba(0,0,0,0.7)));background: -webkit-linear-gradient(right, rgba(0,0,0,0) 0%,rgba(0,0,0,0.01) 1%,rgba(0,0,0,0.7) 100%);background: -o-linear-gradient(right, rgba(0,0,0,0) 0%,rgba(0,0,0,0.01) 1%,rgba(0,0,0,0.7) 100%);background: -ms-linear-gradient(right, rgba(0,0,0,0) 0%,rgba(0,0,0,0.01) 1%,rgba(0,0,0,0.7) 100%);background: linear-gradient(to left, rgba(0,0,0,0) 0%,rgba(0,0,0,0.01) 1%,rgba(0,0,0,0.7) 100%);}    .shadowR {background: -moz-linear-gradient(left, rgba(0,0,0,0) 0%, rgba(0,0,0,0.01) 1%, rgba(0,0,0,0.7) 100%);background: -webkit-gradient(linear, left top, right top, color-stop(0%,rgba(0,0,0,0)), color-stop(1%,rgba(0,0,0,0.01)), color-stop(100%,rgba(0,0,0,0.7)));background: -webkit-linear-gradient(left, rgba(0,0,0,0) 0%,rgba(0,0,0,0.01) 1%,rgba(0,0,0,0.7) 100%);background: -o-linear-gradient(left, rgba(0,0,0,0) 0%,rgba(0,0,0,0.01) 1%,rgba(0,0,0,0.7) 100%);background: -ms-linear-gradient(left, rgba(0,0,0,0) 0%,rgba(0,0,0,0.01) 1%,rgba(0,0,0,0.7) 100%);background: linear-gradient(to right, rgba(0,0,0,0) 0%,rgba(0,0,0,0.01) 1%,rgba(0,0,0,0.7) 100%);}    .shadowB {background: -moz-linear-gradient(top, rgba(0,0,0,0) 0%, rgba(0,0,0,0.01) 1%, rgba(0,0,0,0.7) 100%);background: -webkit-gradient(linear, left top, left bottom, color-stop(0%,rgba(0,0,0,0)), color-stop(1%,rgba(0,0,0,0.01)), color-stop(100%,rgba(0,0,0,0.7)));background: -webkit-linear-gradient(top, rgba(0,0,0,0) 0%,rgba(0,0,0,0.01) 1%,rgba(0,0,0,0.7) 100%);background: -o-linear-gradient(top, rgba(0,0,0,0) 0%,rgba(0,0,0,0.01) 1%,rgba(0,0,0,0.7) 100%);background: -ms-linear-gradient(top, rgba(0,0,0,0) 0%,rgba(0,0,0,0.01) 1%,rgba(0,0,0,0.7) 100%);background: linear-gradient(to bottom, rgba(0,0,0,0) 0%,rgba(0,0,0,0.01) 1%,rgba(0,0,0,0.7) 100%);}    .shadowT {background: -moz-linear-gradient(bottom, rgba(0,0,0,0) 0%, rgba(0,0,0,0.01) 1%, rgba(0,0,0,0.7) 100%);background: -webkit-gradient(linear, left bottom, left top, color-stop(0%,rgba(0,0,0,0)), color-stop(1%,rgba(0,0,0,0.01)), color-stop(100%,rgba(0,0,0,0.7)));background: -webkit-linear-gradient(bottom, rgba(0,0,0,0) 0%,rgba(0,0,0,0.01) 1%,rgba(0,0,0,0.7) 100%);background: -o-linear-gradient(bottom, rgba(0,0,0,0) 0%,rgba(0,0,0,0.01) 1%,rgba(0,0,0,0.7) 100%);background: -ms-linear-gradient(bottom, rgba(0,0,0,0) 0%,rgba(0,0,0,0.01) 1%,rgba(0,0,0,0.7) 100%);background: linear-gradient(to top, rgba(0,0,0,0) 0%,rgba(0,0,0,0.01) 1%,rgba(0,0,0,0.7) 100%);}")),document.head.appendChild(s);var d={init:function v(e){if(typeof e=="string"){var t=document.querySelectorAll(e),n,r=t.length;for(n=0;n<r;n++)v(t[n]);return}var i,s=e.getBoundingClientRect(),o=s.width,u=o>>2,f=a("div",{position:"relative",width:o+"px",height:o+"px",overflow:"hidden"}),l=a("div",{position:"relative",width:o+"px",height:o+"px",overflow:"hidden"}),d=a("div",{position:"relative",borderRadius:"50%",width:o+"px",height:o+"px",overflow:"hidden"}),m=a("div",{position:"relative",borderRadius:"50%",width:o+"px",height:o+"px",zIndex:1}),y=a("div",{position:"absolute",borderRadius:"50%",width:o+"px",height:o+"px",left:"0",top:"0",zIndex:3,backgroundColor:"#ffffff",transform:"translate("+o+"px, "+0+"px)",overflow:"hidden"}),b=a("div",{position:"relative",borderRadius:"50%",width:o+"px",height:o+"px",opacity:"0.4"}),w=a("div",{position:"absolute",width:o+"px",height:o+"px",left:"0",top:"0",zIndex:4}),E=a("div",{position:"absolute",width:o+"px",height:o+"px",left:"0",top:"0",zIndex:1});return m.className="sticker-img sticker-front",b.className="sticker-img sticker-back",w.className=E.className="sticker-shadow",e.appendChild(f),f.appendChild(l),l.appendChild(d),d.appendChild(m),d.appendChild(E),d.appendChild(y),y.appendChild(b),y.appendChild(w),i={container:f,size:o,sizeQ:u,mask:l,move:d,depth:E,back:y,backImg:b,backShadow:w},e.addEventListener("mouseenter",function(e){c(e,i)},!1),e.addEventListener("mouseleave",function(e){h(e,i)},!1),e.addEventListener("mousemove",function(e){p(e,i)},!1),this}};typeof exports=="object"?module.exports=d:typeof define=="function"&&define.amd?define(function(){return d}):this.Sticker=d})()